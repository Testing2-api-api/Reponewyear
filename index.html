<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>For You ðŸ’Œ</title>

<style>
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f6f6f6;
  text-align: center;
}

/* GRID */
.grid {
  display: grid;
  grid-template-columns: repeat(3, 160px);
  gap: 24px;
  justify-content: center;
  margin-top: 50px;
}

/* ENVELOPE */
.envelope {
  width: 160px;
  height: 110px;
  background: url("images/envelope-closed.png") center/contain no-repeat;
  cursor: pointer;
}

.envelope.opened {
  background: url("images/envelope-open.png") center/contain no-repeat;
}

/* POPUP */
.popup {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 10;
}

.popup-content {
  background: #fff;
  width: 320px;
  border-radius: 12px;
  padding: 16px;
  position: relative;
  animation: scaleIn 0.25s ease;
}

@keyframes scaleIn {
  from { transform: scale(0.8); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.close {
  position: absolute;
  top: 6px;
  right: 10px;
  cursor: pointer;
  font-size: 18px;
}

.popup img {
  width: 100%;
  margin-bottom: 12px;
}

.popup p {
  font-size: 14px;
  line-height: 1.4;
}
</style>
</head>

<body>

<h2>ðŸ’Œ Click an envelope</h2>

<div class="grid" id="grid"></div>

<!-- POPUP -->
<div class="popup" id="popup">
  <div class="popup-content">
    <div class="close" onclick="closePopup()">âœ–</div>
    <img src="images/envelope-open.png" alt="opened" />
    <p id="message"></p>
  </div>
</div>

<script>
const messages = [
  "Happy New Year! May this year bring you fresh beginnings and joyful moments.",
  "Wishing you happiness, health, and success in the coming year.",
  "May all your dreams come true this New Year ðŸŽ‰",
  "New year, new opportunities, new smiles ðŸ’–",
  "Hope this year brings peace and positivity to your life.",
  "Cheers to another year of growth and happiness!",
  "May every day of this year be filled with kindness.",
  "Sending you warm wishes for a wonderful New Year!",
  "A new year means a new chapter. Make it amazing!"
];

const grid = document.getElementById("grid");
const popup = document.getElementById("popup");
const messageEl = document.getElementById("message");

let opened = JSON.parse(localStorage.getItem("openedEnvelopes")) || [];

// create envelopes
for (let i = 0; i < 9; i++) {
  const env = document.createElement("div");
  env.className = "envelope";

  if (opened.includes(i)) {
    env.classList.add("opened");
  }

  env.onclick = () => openEnvelope(i, env);
  grid.appendChild(env);
}

function openEnvelope(index, env) {
  if (!opened.includes(index)) {
    opened.push(index);
    localStorage.setItem("openedEnvelopes", JSON.stringify(opened));
  }

  env.classList.add("opened");
  messageEl.innerText = messages[index];
  popup.style.display = "flex";
}

function closePopup() {
  popup.style.display = "none";
}
</script>

</body>
</html>
